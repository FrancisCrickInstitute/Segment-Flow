# Segment-Flow
Nextflow pipeline for deep learning segmentation models

## Usage
To use this pipeline, you need to have Nextflow availabile. To install Nextflow, see their [installation guide](https://www.nextflow.io/docs/latest/install.html).

To run the pipeline locally, the `profiles/local.conf` profile should be all that is needed. To run the pipeline on a cluster, you will need to create a profile for your cluster. See the [Nextflow documentation](https://www.nextflow.io/docs/latest/config.html#config-profiles) and the [AIoD wiki](https://github.com/FrancisCrickInstitute/AIoD-Model-Registry/wiki/Nextflow-Pipeline#add-a-profile) for more information.

## Parameters
To get the arguments for the pipeline with a description for each, run the following command:
```
nextflow run FrancisCrickInstitute/Segment-Flow --help
```

The following sections will provide some extra information about key parameters.

### Input CSV (`--img_dir`)
Typically, this CSV is generated by the Napari plugin. To use this pipeline standalone, you can create a CSV with the following columns:

- `img_path`: Path to the image file
- `num_slices`: Number of slices in the image
- `height`: Height of the image (in pixels)
- `width`: Width of the image (in pixels)
- `channels`: Number of channels in the image

Additional columns are created by the pipeline and are not required in the input CSV.


### Model Name & Version
TODO AFTER PIPELINE MODEL HANDLING REVISION